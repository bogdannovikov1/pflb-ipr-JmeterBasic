# pflb-ipr-JmeterBasic
<h3>TASK 1</h3>

Выстройте одноминутный план нагрузки на постоянной интенсивности, без рамп-апов и рамп-даунов, используя следующие элементы.<br/>

Ultimate Thread Group - для выстраивания ступенчатой сценария нагрузки. [OK]<br/><br/>
Разбить скрипт на две ветки, к примеру, это можно сделать с помощью JSR223 + If Controller или другими способами. [OK]<br/><br/>
Листенер Aggregate report - для быстрого анализа того соответствует ли планируемая нагрузка реальной. [OK]<br/><br/>
Варианта прохождения сценария будет два, один - jp@gc Dummy Sampler ("болванка"). Второй - любой записанный траффик (что будет, в общем, более наглядно для вас, при этом сценария "открываем главную страницу" - хватит с лихвой) [OK]<br/><br/>
Интенсивность задается элементом Flow control action со вложенным Constant Throughput Timer (аналог пейсинга в LoadRunner). [OK]<br/><br/>
Начните с интенсивности 15 транзакций в минуту на "болванке" и 5 транзакций в минуту на http транзакции. Пусть соотношение и остается таким в дальнейшем- один к трем. [OK]<br/><br/>
Попробуйте поиграться с соотношением "количество тредов"/"прохождений в минуту" в обе стороны. Отметьте что при этом происходит и соответствует ли нагрузка планируемый. [OK]<br/>
***<br/> Constant Throughput Timer настраивается как и для отдельного потока (по умолчанию), так и для всех потоков в целом (в рамках тред группы) <br/>
Например, если натроить для каждого потока по отдельности, пусть будет 10 потоков 5 о.\мин. - тогда всего будет 50 операций в минуту.<br/>
Если настроить для всех потоков, пусть будет 10 потоков 5 о.\мин. - тогда всего будет 5 операций в минуту (НО при старте потоков в 1ю минуту будет 10 операций, во 2ю 0 операций тк. 1я минута "украла" 5 лишних, в 3ю и далее будут по 5 о.\мин.) <br/>***
<br/><br/>
Увеличивайте подаваемую нагрузку пока не добьетесь падения джметра. После этого попробуйте увеличить выделенный хип в файле jmeter.bat и попробовать еще раз. Найдите максимум который можете себе позволить со своей машины. [OK]<br/>
***<br/>
500 потоков 50 операций для каждого потока<br/>
![image](https://github.com/user-attachments/assets/eb48102d-a3c7-4d27-9a0e-25717bde3759)<br/>
2000 потоков 20 операций для каждого потока<br/>
![image](https://github.com/user-attachments/assets/ab0ee361-4e03-4264-be08-226d08a2065c)<br/>
Ошибки пошли<br/>
2000 потоков 3 операции для каждого потока<br/>
![image](https://github.com/user-attachments/assets/9a20f74d-1ccb-4eb8-9b04-cba39d91cfa4)<br/>
20000 потоков 5 операций для каждого потока(Dummy Sampler)<br/>
![image](https://github.com/user-attachments/assets/23f4cce1-6b04-43a7-b6b4-cc7892770d05)<br/>
60000 потоков 5 операций для каждого потока(Dummy Sampler)<br/>
![image](https://github.com/user-attachments/assets/4d2b5fad-1f39-4659-a834-a8d0fffa1d47)<br/>
60000 потоков 5 операций для каждого потока(Dummy Sampler, увеличил максимальный хип в jmeter.bat -Xmx10g)<br/>
![image](https://github.com/user-attachments/assets/0776758d-c804-4ad8-b1a9-f8862e3c1188)<br/>
Справился но подвисал, 5000 РПС, думаю можно и больше
<br/>***
<br/><br/>
Попробуйте убрать ветвление и разнести скрипт на две тред-группы. Посмотрите, как изменилась производительность вашей нагрузочной станции и подумайте, почему это произошло [OK]<br/>
***<br/>
Разделение скрипта на две Thread Groups может привести к улучшению производительности. Это связано с тем, что каждая группа работает независимо, что снижает накладные расходы на управление потоками и может улучшить распределение ресурсов системы.
<br/>***

<h3>TASK 2</h3>
Сценарий:<br/>
1. Открытие главной страницы известной поисковой системы (с получением всего контента: картинки, статика и пр.; мусор, к целевому сайту не относящийся можно исключать);<br/>
2. Поиск по случайному слову или фразе из csv-файла (не менее 300 строк);<br/>
3. Выбор случайной страницы из результатов поиска (переход по ссылке);<br/>
4. Вывод в Debug заголовка открывшейся страницы и всех имеющихся на странице абсолютных гиперссылок<br/>
5. После каждого действия должна быть задержка (случайное кол-во секунд от 1 до 5), которая не должна учитываться при определении времени отклика.<br/>
P.S. не использовать yandex и google, для выполнения задания использовать наименее популярный поисковик<br/>
<br/>
Нагрузка: [OK]<br/>
1. Время прогона скрипта должно регулироваться, например, 40 секунд. Если запросы выполняются раньше, то поток должен ждать оставшееся время;<br/>
2. Нагрузка должна увеличиваться в 5 этапов: <br/>
10 прохождений в минуту, длительность 5 минут; <br/>
20 прохождений в минуту, длительность 5 минут; <br/>
и т.д. до 50 прохождений в минуту.<br/>
<br/>
Контроль нагрузки: [OK]<br/>
1. В тест-плане должны присутствовать несколько «листенеров» для того, чтобы можно было ответить на вопросы:<br/>
a. Сколько запросов выполняется в единицу времени;<br/>
b. Какое количество потоков;<br/>
c. Сколько составляет время выполнения каждого запроса;<br/>
d. Сколько «сэмплов» выполнено за тест, среднее время их выполнения и интенсивность.<br/>
<br/>
Сдавать наставнику нужно, показав в том числе как запустить это из Non-Gui.<br/>
***<br/>
jmeter -n -t /path/to/your/test.jmx -l /path/to/your/results.jtl<br/>
  -n указывает на режим Non-GUI.<br/>
  -t указывает путь к вашему JMX файлу.<br/>
  -l указывает путь к файлу, в который будут записаны результаты теста (обычно это файл с расширением .jtl)<br/>
<br/>***

